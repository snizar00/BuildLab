name: Release action
# Call the reusable workflow release-solution-with-inputs.yml
# Release your solution to prod when you create a new release.

on:
  release:
      types: [created]        
permissions:
  contents: write
jobs:
  Release-solution-ALMLab:
    # uses: ./.github/workflows/release-solution-with-inputs.yml
    uses: ./.github/workflows/release-solution-to-prod.yml
    with:
      #You can specify the solution name here
      solution_name: mysolution
      #Update your values here
      BUILD_ENVIRONMENT_URL: 'https://org9f482106.crm.dynamics.com/'  # BuildLabProd
      PRODUCTION_ENVIRONMENT_URL: 'https://org80c248df.crm.dynamics.com/'  # TestLab
      CLIENT_ID: 'a88b1599-590d-4b7a-ace1-229dea7fc826'
      TENANT_ID: 'c9f44141-61a3-483a-b157-783e86287e36'     
    secrets:
      envSecret: ${{ secrets.PowerPlatformSPN }}
